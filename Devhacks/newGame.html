<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="A fully featured admin theme which can be used to build CRM, CMS, etc.">
        <meta name="author" content="Coderthemes">

        <link rel="shortcut icon" href="img/favicon_1.ico">

        <title>Velonic - Responsive Admin Dashboard Template</title>

        <!-- Google-Fonts -->
        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:100,300,400,600,700,900,400italic' rel='stylesheet'>

        <!-- Bootstrap core CSS -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/bootstrap-reset.css" rel="stylesheet">

        <!--Animation css-->
        <link href="css/animate.css" rel="stylesheet">

        <!--Icon-fonts css-->
        <link href="assets/font-awesome/css/font-awesome.css" rel="stylesheet" />
        <link href="assets/ionicon/css/ionicons.min.css" rel="stylesheet" />

        <!--Morris Chart CSS -->
        <link rel="stylesheet" href="assets/morris/morris.css">

        <!-- sweet alerts -->
        <link href="assets/sweet-alert/sweet-alert.min.css" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link href="css/style.css" rel="stylesheet">
        <link href="css/helper.css" rel="stylesheet">
        <link href="css/style-responsive.css" rel="stylesheet" />


        <!-- HTML5 shim and Respond.js IE8 support of HTML5 tooltipss and media queries -->
        <!--[if lt IE 9]>
          <script src="js/html5shiv.js"></script>
          <script src="js/respond.min.js"></script>
        <![endif]-->

    </head>


    <body>

        <!-- Aside Start-->
        <aside class="left-panel">

            <!-- brand -->
            <div class="logo">
                <a href="index.html" class="logo-expanded">
                    <img src="img/single-logo.png" alt="logo">
                    <span class="nav-label">Velonic</span>
                </a>
            </div>
            <!-- / brand -->
        
            <!-- Navbar Start -->
            <nav class="navigation">
                <ul class="list-unstyled">
                    <!-- <li class="has-submenu active"><a href="#"><i class="ion-home"></i> <span class="nav-label">Dashboard</span></a>
                        <ul class="list-unstyled">
                            <li class="active"><a href="index.html">Dashboard v1</a></li>
                            <li><a href="dashboard2.html">Dashboard v2</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu"><a href="#"><i class="ion-flask"></i> <span class="nav-label">UI Elements</span></a>
                        <ul class="list-unstyled">
                            <li><a href="typography.html">Typography</a></li>
                            <li><a href="buttons.html">Buttons</a></li>
                            <li><a href="icons.html">Icons</a></li>
                            <li><a href="panels.html">Panels</a></li>
                            <li><a href="tabs-accordions.html">Tabs &amp; Accordions</a></li>
                            <li><a href="modals.html">Modals</a></li>
                            <li><a href="bootstrap-ui.html">BS Elements</a></li>
                            <li><a href="progressbars.html">Progress Bars</a></li>
                            <li><a href="notification.html">Notification</a></li>
                            <li><a href="sweet-alert.html">Sweet-Alert</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu"><a href="#"><i class="ion-settings"></i> <span class="nav-label">Components</span></a>
                        <ul class="list-unstyled">
                            <li><a href="grid.html">Grid</a></li>
                            <li><a href="portlets.html">Portlets</a></li>
                            <li><a href="widgets.html">Widgets</a></li>
                            <li><a href="nestable-list.html">Nesteble</a></li>
                            <li><a href="calendar.html">Calendar</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu"><a href="#"><i class="ion-compose"></i> <span class="nav-label">Forms</span></a>
                        <ul class="list-unstyled">
                            <li><a href="form-elements.html">General Elements</a></li>
                            <li><a href="form-validation.html">Form Validation</a></li>
                            <li><a href="form-advanced.html">Advanced Form</a></li>
                            <li><a href="form-wizard.html">Form Wizard</a></li>
                            <li><a href="form-editor.html">WYSIWYG Editor</a></li>
                            <li><a href="code-editor.html">Code Editors</a></li>
                            <li><a href="form-uploads.html">Multiple File Upload</a></li>
                            <li><a href="image-crop.html">Image Crop</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu"><a href="#"><i class="ion-grid"></i> <span class="nav-label">Data Tables</span></a>
                        <ul class="list-unstyled">
                            <li><a href="tables.html">Basic Tables</a></li>
                            <li><a href="table-datatable.html">Data Table</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu"><a href="#"><i class="ion-stats-bars"></i> <span class="nav-label">Charts</span></a>
                        <ul class="list-unstyled">
                            <li><a href="morris-chart.html">Morris Chart</a></li>
                            <li><a href="chartjs.html">Chartjs</a></li>
                            <li><a href="flot-chart.html">Flot Chart</a></li>
                            <li><a href="rickshaw-chart.html">Rickshaw Chart</a></li>
                            <li><a href="c3-chart.html">C3 Chart</a></li>
                            <li><a href="other-chart.html">Other Chart</a></li>
                        </ul>
                    </li>

                    <li class="has-submenu"><a href="#"><i class="ion-email"></i> <span class="nav-label">Mail</span></a>
                        <ul class="list-unstyled">
                            <li><a href="inbox.html">Inbox</a></li>
                            <li><a href="email-compose.html">Compose Mail</a></li>
                            <li><a href="email-read.html">View Mail</a></li>
                        </ul>
                    </li>

                    <li class="has-submenu"><a href="#"><i class="ion-location"></i> <span class="nav-label">Maps</span></a>
                        <ul class="list-unstyled">
                            <li><a href="gmap.html"> Google Map</a></li>
                            <li><a href="vector-map.html"> Vector Map</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu"><a href="#"><i class="ion-document"></i> <span class="nav-label">Pages</span></a>
                        <ul class="list-unstyled">
                            <li><a href="profile.html">Profile</a></li>
                            <li><a href="timeline.html">Timeline</a></li>
                            <li><a href="invoice.html">Invoice</a></li>
                            <li><a href="contact.html">Contact-list</a></li>
                            <li><a href="login.html">Login</a></li>
                            <li><a href="register.html">Register</a></li>
                            <li><a href="recoverpw.html">Recover Password</a></li>
                            <li><a href="lock-screen.html">Lock Screen</a></li>
                            <li><a href="blank.html">Blank Page</a></li>
                            <li><a href="404.html">404 Error</a></li>
                            <li><a href="404_alt.html">404 alt</a></li>
                            <li><a href="500.html">500 Error</a></li>
                        </ul>
                    </li> -->
                </ul>
            </nav>
                
        </aside>
        <!-- Aside Ends-->


        <!--Main Content Start -->
        <section class="content">
            
            <!-- Header -->
            <header class="top-head container-fluid">
                <button type="button" class="navbar-toggle pull-left">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                
                <!-- Search -->
                <form role="search" class="navbar-left app-search pull-left hidden-xs">
                  <input type="text" placeholder="Search..." class="form-control">
                </form>
                
                <!-- Left navbar -->
                <nav class=" navbar-default hidden-xs" role="navigation">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                          <a data-toggle="dropdown" class="dropdown-toggle" href="#">English <span class="caret"></span></a>
                            <ul role="menu" class="dropdown-menu">
                                <li><a href="#" >German</a></li>
                                <li><a href="#">French</a></li>
                                <li><a href="#">Italian</a></li>
                                <li><a href="#">Spanish</a></li>
                            </ul>
                        </li>
                        <li><a href="#">Files</a></li>
                        <li><a href="../frontend/" target="_blank">Frontend</a></li>
                    </ul>
                </nav>
                
                <!-- Right navbar -->
                <ul class="list-inline navbar-right top-menu top-right-menu">  
                    <!-- mesages -->  
                    <!-- <li class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <i class="fa fa-envelope-o "></i>
                            <span class="badge badge-sm up bg-purple count">4</span>
                        </a>
                        <ul class="dropdown-menu extended fadeInUp animated nicescroll" tabindex="5001">
                            <li>
                                <p>Messages</p>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="pull-left"><img src="img/avatar-2.jpg" class="img-circle thumb-sm m-r-15" alt="img"></span>
                                    <span class="block"><strong>John smith</strong></span>
                                    <span class="media-body block">New tasks needs to be done<br><small class="text-muted">10 seconds ago</small></span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="pull-left"><img src="img/avatar-3.jpg" class="img-circle thumb-sm m-r-15" alt="img"></span>
                                    <span class="block"><strong>John smith</strong></span>
                                    <span class="media-body block">New tasks needs to be done<br><small class="text-muted">3 minutes ago</small></span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="pull-left"><img src="img/avatar-4.jpg" class="img-circle thumb-sm m-r-15" alt="img"></span>
                                    <span class="block"><strong>John smith</strong></span>
                                    <span class="media-body block">New tasks needs to be done<br><small class="text-muted">10 minutes ago</small></span>
                                </a>
                            </li>
                            <li>
                                <p><a href="inbox.html" class="text-right">See all Messages</a></p>
                            </li>
                        </ul>
                    </li> -->
                    <!-- /messages -->
                    <!-- Notification -->
                   <!--  <li class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <i class="fa fa-bell-o"></i>
                            <span class="badge badge-sm up bg-pink count">3</span>
                        </a>
                        <ul class="dropdown-menu extended fadeInUp animated nicescroll" tabindex="5002">
                            <li class="noti-header">
                                <p>Notifications</p>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="pull-left"><i class="fa fa-user-plus fa-2x text-info"></i></span>
                                    <span>New user registered<br><small class="text-muted">5 minutes ago</small></span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="pull-left"><i class="fa fa-diamond fa-2x text-primary"></i></span>
                                    <span>Use animate.css<br><small class="text-muted">5 minutes ago</small></span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="pull-left"><i class="fa fa-bell-o fa-2x text-danger"></i></span>
                                    <span>Send project demo files to client<br><small class="text-muted">1 hour ago</small></span>
                                </a>
                            </li>
                            
                            <li>
                                <p><a href="#" class="text-right">See all notifications</a></p>
                            </li>
                        </ul>
                    </li> -->
                    <!-- /Notification -->

                    <!-- user login dropdown start-->
                    <li class="dropdown text-center">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <img alt="" src="img/avatar-2.jpg" class="img-circle profile-img thumb-sm">
                            <span class="username">Ciprian </span> <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu extended pro-menu fadeInUp animated" tabindex="5003" style="overflow: hidden; outline: none;">
                            <li><a href="profile.html"><i class="fa fa-briefcase"></i>Profile</a></li>
                            <li><a href="#"><i class="fa fa-cog"></i> Settings</a></li>
                            <li><a href="#" ><i class="fa fa-bell"></i> Friends <span class="label label-info pull-right mail-info">5</span></a></li>
                            <li><a href="#" onclick="logoutFunction();" ><i class="fa fa-sign-out"></i> Log Out</a></li>
                        </ul>
                    </li>
                    <!-- user login dropdown end -->       
                </ul>
                <!-- End right navbar -->

            </header>
            <!-- Header Ends -->


            <!-- Page Content Start -->
            <!-- ================== -->

            <div class="wraper container-fluid">
                <div class="page-title"> 
                    <h3 class="title">Welcome to new game Ciprian !</h3> 
                </div>

                <!-- <div class="row">
                    <div class="col-lg-3 col-sm-6">
                        <div class="widget-panel widget-style-2 bg-pink">
                            <i class="ion-eye"></i> 
                            <h2 class="m-0 counter">50</h2>
                            <div>Daily Visits</div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="widget-panel widget-style-2 bg-purple">
                            <i class="ion-paper-airplane"></i> 
                            <h2 class="m-0 counter">12056</h2>
                            <div>Sales</div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="widget-panel widget-style-2 bg-info">
                            <i class="ion-ios7-pricetag"></i> 
                            <h2 class="m-0 counter">1268</h2>
                            <div>New Orders</div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="widget-panel widget-style-2 bg-success">
                            <i class="ion-android-contacts"></i> 
                            <h2 class="m-0 counter">145</h2>
                            <div>New Users</div>
                        </div>
                    </div>
                </div> --> <!-- end row -->



               <div class="row">
                   <div class="col-lg-12 col-sm-6" >
                        <h2>Developer team</h2> 
                        <div id="devContent">
                            
                        </div>
                   </div>
<div class="row">
</div>
                   <div class="col-lg-6 col-sm-6" >
                       <h2>Project prerequirement</h2>
                       <div id="preqContent">
                           
                       </div>
                   </div>
                   
                    <div class="col-lg-6 col-sm-6" >
                       <h2>Scrum project details selection</h2>
                            
                                        
                                        <div class="col-md-10">
                                            <input type="text" class="form-control" placeholder="Sprint duration(weeks)" id="wps"/>
                                        </div>
                                        <button onclick="startgame()" class="btn btn-primary btn-lg m-b-5">Start gamplay!</button>
                       <h2>Real Time Simulation</h2>
                       <button onclick="simulateGame()" class="btn btn-primary btn-lg m-b-5">Simulate game!</button>
                       </div>
                       <div class="col-lg-6 col-sm-6" >
                        

                   </div>

               </div>
               <div class="row">
                   <div id="simContent">
                           
                       </div>
               </div>





                
            <!-- ================== -->

            <!-- Footer Start -->
            <footer class="footer">
                2015 Â© Velonic.
            </footer>
            <!-- Footer Ends -->



        </section>
        <!-- Main Content Ends -->
        


        <!-- js placed at the end of the document so the pages load faster -->
        <script src="js/jquery.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/modernizr.min.js"></script>
        <script src="js/pace.min.js"></script>
        <script src="js/wow.min.js"></script>
        <script src="js/jquery.scrollTo.min.js"></script>
        <script src="js/jquery.nicescroll.js" type="text/javascript"></script>
        <script src="assets/chat/moment-2.2.1.js"></script>

        <!-- Counter-up -->
        <script src="js/waypoints.min.js" type="text/javascript"></script>
        <script src="js/jquery.counterup.min.js" type="text/javascript"></script>

        <!-- EASY PIE CHART JS -->
        <script src="assets/easypie-chart/easypiechart.min.js"></script>
        <script src="assets/easypie-chart/jquery.easypiechart.min.js"></script>
        <script src="assets/easypie-chart/example.js"></script>


        <!--C3 Chart-->
        <script src="assets/c3-chart/d3.v3.min.js"></script>
        <script src="assets/c3-chart/c3.js"></script>

        <!--Morris Chart-->
        <script src="assets/morris/morris.min.js"></script>
        <script src="assets/morris/raphael.min.js"></script>

        <!-- sparkline --> 
        <script src="assets/sparkline-chart/jquery.sparkline.min.js" type="text/javascript"></script>
        <script src="assets/sparkline-chart/chart-sparkline.js" type="text/javascript"></script> 

        <!-- sweet alerts -->
        <script src="assets/sweet-alert/sweet-alert.min.js"></script>
        <script src="assets/sweet-alert/sweet-alert.init.js"></script>

        <script src="js/jquery.app.js"></script>
        <!-- Chat -->
        <script src="js/jquery.chat.js"></script>
        <!-- Dashboard -->
        <script src="js/jquery.dashboard.js"></script>

        <!-- Todo -->
        <script src="js/jquery.todo.js"></script>


        <script type="text/javascript">



  //auxiliary function
            function getUrlVars() {
    var vars = {};
    var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,    
    function(m,key,value) {
      vars[key] = value;
    });
    return vars;
  }

        /* ==============================================
             Counter Up
             =============================================== */
            jQuery(document).ready(function($) {
                $('.counter').counterUp({
                    delay: 100,
                    time: 1200
                });
            });
       
       getDevs();
            
            function logoutFunction(){
                var username = getUrlVars('username').username;
               
                $.ajax({
                    method: "GET",
                    url: "http://localhost:8080/logoutUser?username="+username,
                    headers: {
                         'Access-Control-Allow-Origin':'*'
                     },
                    contentType:'application/json',
                    success: function(data){
                       location.replace("login.html");
                    },
                    error: function(xhr,status,error){
                        console.log(status);
                        console.log(xhr);
                        console.log(error);
                        sweetAlert("Connection to server not available!","Unable to connect to serrver!","error");
                    }
                });
            }

            function simulateGame(){
                var username = getUrlVars('username').username;
                var token = getUrlVars('token').token;
               var wps = $('#wps').val();
               var ids = $("input[name=tcb]:checked").map(function() {
    return this.value;
}).get().join(",")
               
                $.ajax({
                    method: "GET",
                    url: "http://localhost:8080/simulateGameScenario?username="+username+"&wps="+wps+"&devs="+ids+"&token="+token,
                    headers: {
                         'Access-Control-Allow-Origin':'*'
                     },
                    contentType:'application/json',
                    success: function(data){
                        console.log(data);
                        var simAppend = '<div class="col-lg-4 col-sm-6"> <div class="widget-panel widget-style-2 bg-purple"> <i class="ion-paper-airplane"></i> <h2 class="m-0 counter">'+data.velocity+'</h2> <div>Velocity</div> </div> </div> <div class="col-lg-4 col-sm-6"> <div class="widget-panel widget-style-2 bg-success"> <i class="ion-android-contacts"></i> <h2 class="m-0 counter">'+data.teamSatisfaction+'</h2> <div>Team Satisfaction</div> </div> </div> <div class="col-lg-4 col-sm-6"> <div class="widget-panel widget-style-2 bg-success"> <i class="ion-android-contacts"></i> <h2 class="m-0 counter">'+data.customerSatisfaction+'</h2> <div>Customer Satisfaction</div> </div> </div> <div class="col-lg-4 col-sm-6"> <div class="widget-panel widget-style-2 bg-pink"> <i class="ion-eye"></i> <h2 class="m-0 counter">'+data.customerExpectedWeeksToCompletion+'</h2> <div>Customer Expected Weeks</div> </div> </div> <div class="col-lg-4 col-sm-6"> <div class="widget-panel widget-style-2 bg-pink"> <i class="ion-eye"></i> <h2 class="m-0 counter">'+data.estimatedWeeksToCompletion+'</h2> <div>Computed Estimated Weeks</div> </div> </div> <div class="col-lg-4 col-sm-6"> <div class="widget-panel widget-style-2 bg-info"> <i class="ion-ios7-pricetag"></i> <h2 class="m-0 counter">'+data.currentBacklogSize+'</h2> <div>Current Backlog Size</div> </div> </div> <div class="col-lg-4 col-sm-6"> <div class="widget-panel widget-style-2 bg-info"> <i class="ion-ios7-pricetag"></i> <h2 class="m-0 counter">'+data.projectInvestmentFund+'</h2> <div>Project Investment Fund</div> </div> </div>';
                        $( "#simContent" ).empty();
                        $( "#simContent" ).append(simAppend);

                    }
                });
            }

            function startgame(){
                var username = getUrlVars('username').username;
                var token = getUrlVars('token').token;
               var wps = $('#wps').val();
               var ids = $("input[name=tcb]:checked").map(function() {
    return this.value;
}).get().join(",")
               
                $.ajax({
                    method: "GET",
                    url: "http://localhost:8080/startGame?username="+username+"&token="+token,
                    headers: {
                         'Access-Control-Allow-Origin':'*'
                     },
                    contentType:'application/json',
                    success: function(data){
                        if(data =="OK"){
                            location.replace("gameScene.html?username=" + username + "&token=" + token);
                        }
                    }
                });
            }

            function getDevs(){
                var username = getUrlVars('username').username;
                var token = getUrlVars('token').token;
               
                $.ajax({
                    method: "GET",
                    url: "http://localhost:8080/getInitialGameScenario?username="+username+"&token="+token,
                    headers: {
                         'Access-Control-Allow-Origin':'*'
                     },
                    contentType:'application/json',
                    success: function(data){
                       console.log(data);
                       for(var i=0; i < data.developerList.length;i++){

                        var developerInput = '<div class="col-lg-3 col-sm-3"><div class="panel panel-color panel-primary"><div class="panel-heading"><h3 class="panel-title">' + data.developerList[i].name +'</h3> </div><div class="panel-body"> Genre: '+ data.developerList[i].genre+'<br> Motivation Level : ' + data.developerList[i].motivation_level + '<br> Velocity (SP/week) : ' + data.developerList[i].velocity_per_week + '<br> Primary Tech : '+ data.developerList[i].primary_tech + '<br> Secondary Tech : ' + data.developerList[i].seconday_tech+'</div> <div class="checkbox"><label><input type="checkbox" value="'+i+'" name="tcb"'+'>Add to your team ! </label></div></div></div>';
                        $( "#devContent" ).append(developerInput);

                       }

 var sps = 0;
                        for(var i=0; i < data.storyList.length;i++){
                            sps += data.storyList[i].story_points;
                       
                        /*var storyInput = '<div class="portlet"><div class="portlet-heading bg-info"><div class="portlet-heading"><h3 class="portlet-title">' + data.storyList[i].name +'</h3></div><div class="portlet-body"> Description: '+ data.storyList[i].description+'<br> Story Points : ' + data.storyList[i].story_points + '</div></div>';

                        var storyInput = '<div class="panel panel-color panel-info"><div class="panel-heading"><h3 class="panel-title">' + data.storyList[i].name +'</h3> </div><div class="panel-body">Description: '+ data.storyList[i].description+'<br> Story Points : ' + data.storyList[i].story_points + '</div></div>';*/
                        /*$( "#backlogContent" ).append(storyInput);*/

                       }

                       $('#preqContent').append('<div class="panel panel-color panel-purple"><div class="panel-heading"><h3 class="panel-title">Technologies Distribution</h3> </div><div class="panel-body"><p>Front-end : ' + data.technologiesDistribution["Front-End"]+'</p><p>Back-end : ' + data.technologiesDistribution["Back-end"]+'</p><p>Integrators : ' + data.technologiesDistribution["Integrators"]+'</p><p>A.I. : ' + data.technologiesDistribution["A.I."]+'</p></div></div>');

                       $('#preqContent').append('<div class="panel panel-color panel-purple"><div class="panel-heading"><h3 class="panel-title">Project expectations</h3> </div><div class="panel-body"><p>Initial Customer Satisfaction : ' + data.initialCustomerSatisfaction+'</p><p>Initial Project Investment Budget : ' + data.initalProjectInvestmentBudget+'</p><p>Estimated number of weeks : ' + data.estimatedNumberOfWeeks+'</p></div></div>');

                       $('#preqContent').append('<div class="panel panel-color panel-purple"><div class="panel-heading"><h3 class="panel-title">Backlog</h3> </div><div class="panel-body"><p>Backlog size : ' + data.storyList.length+'</p><p>Total Story Points : ' + sps+'</p></div></div>');
                       

                    },
                    error: function(xhr,status,error){
                        console.log(status);
                        console.log(xhr);
                        console.log(error);
                        sweetAlert("Connection to server not available!","Unable to connect to serrver!","error");
                    }
                });
            }
        </script>

    </body>
</html>
